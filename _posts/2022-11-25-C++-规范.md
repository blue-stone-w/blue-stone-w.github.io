---
layout: post
title:  "C++代码编写规范"
date:   2022-11-20 08:30:00 +0800
categories: [Tech]
excerpt: 这篇文章总结了个人编写C++的风格，确保自己的代码拥有统一风格。
tags:
  - CN
  -  
  - 
  - 
  - C++
---

这篇文章总结了个人编写C++的风格，确保自己的代码拥有统一风格。之后上传的自己写的代码都会遵从这个风格和规范。



##### 1 命名

* 风格统一；
* 可以长但含义必须清楚;
* 类型名采用大写驼峰,无下划线; 
* constexpr,const,static,external 可根据需要添加表示; 
* 临时使用的变量以小写字母t开头; 
* 如果变量名需要写明类型,把类型写在最后;

##### 2 注释
* 函数的注释在声明和定义处都需要注释；  
* 变量的注释可在变量前一行或该行的末尾；  
* 为注释选择合适的语言，既能看懂又能防止乱码

##### 3 符号

* 如果不同的符号有相同含义，在使用相同含义时，使用一致的符号表示<font color=Red>???</font>

##### 4 异常处理
* 及时发现错误并给出提示,try catch，输出和打印相应等级日志; 
* 抛出异常而非使程序崩溃退出

##### 5 统一缩进
* 最好使用2空格，不使用`tab`。因为空格在不同地方的表现一致，而`tab`则和用户的设置有关。

##### 6 常数设置
* 对函数内使用的常数，例如`PI`，设置为`constexpr`等类型，不要在函数内直接使用相关常量的数字; 
* 如果cos60之类的数作为常数在程序中使用, 依照此规则

##### 7 嵌套三角
* 嵌套的三角法则——>函数+return/循环+continue (有大量if但没有对应的else时, if语句之后所在函数就结束时, if语句结束之后本此循环结束)<font color=Red>???</font>

##### 8 参数传递
* 一系列参数和方法如果一起实现，代码要适当分行，例如传入参数太多，就分类分行写

##### 9. 调用深度
* 同一个文件中，函数从上到下颗粒度和调用深度增加；
* 注意调用深度，最好小于10

##### 10. 功能分割
* 合理分割功能，通过函数和类实现模块化

##### 11. 参数传递
对于传递的参数较多的函数，
* 传入和传出最好使用通用的标准的数据类型，如vector、Eigen::MatrixXd，独立性和可移植性好，传递的可读性差可以用良好的注释弥补；<font color=Red>???</font>
* 定义新的类(数据类型)把参数整合起来，参数传递过程的可读性强；<font color=Red>???</font>

##### 12. 访问控制
* 如果不涉及作为继承关系中的基类，类内使用的成员变量声明为私有；
* 当需要使用成员变量时，声明和定义一个成员函数来访问这个变量的值(如果这个操作不是为了修改成员,不要返回指针或引用;似乎返回常量引用也可以）font color=Red>???</font>

##### 13. 类内注释
* 说明变量和函数功能;
* 如果是用作接口的函数，应当明确注释该接口的功能

##### 14. 代码测试
* 如有必要保存，使用统一的方式控制所有测试代码，例如用同一个布尔型变量控制是否进入测试代码；
* 最好的方式是使用gtest等单元测试

##### 15. 参数缺省
* 不建议为含参数构造函数的参数都添加缺省值<font color=Red>???</font>

##### 16

* 

##### 17

* 

##### 18

* 

