---
layout: post
title:  "Linux命令总结"
date:   2022-11-20 08:30:00 +0800
categories: [Tech]
excerpt: 总结了使用Linux时常用的命令
tags:
  - CN
  - Ubuntu 
  - Linux
  - 
---

这篇文章总结了使用Linux时常用的命令。

### 一.文件编辑

##### 1.如何退出Vim

>$ ZZ  //保存并退出

或者

>$ ZQ  //不保存并退出

更多退出命令可以看终端里的提示，需要注意的是，终端的提示的意思是，首先需要输入一个冒号，然后再输入需要的命令。

#### 2.

### 二.使用终端

##### 1. 
为了添加到环境变量，以使每个终端都生效，常输入类似下面的命令。
>$ echo "source /home/nnnn/Documents/mws/devel/setup.bash " >> ~/.bashrc

最好不要在root用户状态下输入。

##### 2. 如何退出root用户
输入以下命令可以从root用户变为普通用户，或者从普通用户退出终端。
>$ exit

##### 3.如何合并多个终端
假设现有两个终端窗口A和B。在终端窗口A新建一个空白标签页（tab），将A窗口的其它标签页移动到另一个窗口B，然后关闭A窗口。间接实现终端的合并。

##### 4.使程序在后台运行
方式一：`cmd &`。程序仍然会输出在当前终端。在关闭当前终端后，程序会随之退出。
方式二：`nohup cmd &`。默认情况下，该命令的所有输出都被重定向到nohup.out文件中。即使关闭终端，该程序也不会退出。

### 三.设备
##### 1.移动硬盘
首先确认已经安装了`udisks2`。如果没有可通过`sudo apt install udisks2`安装。首先确认需要移除的移动硬盘的标号，可通过`fdisk -l`查看连接的磁盘设备。然后使用以下命令移除硬盘
```C++
mkdir ~/data // 在 ~ 目录下创建一个 data 的目录
sudo mount /dev/sda1 ~/data // 并将新分区挂载到这里; sda1 不是固定的，要看自己的硬盘盘符; 硬盘中的文件放在打开文件夹 data 中
sudo udisksctl unmount -b /dev/sda1    // 取消挂载；sda1 是移动硬盘的一个分区的名称，第一个分区通常以`1`结尾，第二个及之后的以此类推；
sudo udisksctl power-off -b /dev/sda   // 安全断电；sda 是移动硬盘这个设备的名称
```
##### 3. 查询磁盘剩余空间

```C++
du -sh // 查看当前文件夹的大小
```
du 命令用于查看当前目录的总大小：
-s：对每个Names参数只给出占用的数据块总数。
-a：递归地显示指定目录中各文件及子目录中各文件占用的数据块数。若既不指定-s，也不指定-a，则只显示Names中的每一个目录及其中的各子目录所占的磁盘块数。
-b：以字节为单位列出磁盘空间使用情况（系统默认以k字节为单位）。
-k：以1024字节为单位列出磁盘空间使用情况。
-c：最后再加上一个总计（系统默认设置）。
-l：计算所有的文件大小，对硬链接文件，则计算多次。
-x：跳过在不同文件系统上的目录不予统计。
-h：以K，M，G为单位，提高信息的可读性。

```C++
df -hl // 查看磁盘剩余空间
df -h // 查看每个根路径的分区大小
```
